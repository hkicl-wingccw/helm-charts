# prometheus

Prometheus from fabric-es project (with custom scrapes)

![Version: 0.1.3](https://img.shields.io/badge/Version-0.1.3-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 2.26.0](https://img.shields.io/badge/AppVersion-2.26.0-informational?style=flat-square)

## Additional Information

NOTE: This chart is opinionated for experimental project; with a pre-determined network toplogy. It is unlikely to use for general purpose.

You need to explicitly define what scrape:

```yaml
scrapes:
  istio:
    enabled: true
  # Eligible for Org 0/1 deployment
  hyperledgerOrderer0:
    enabled: false
  # Eligible for Org 0/1 deployment
  hyperledgerOrderer1:
    enabled: false
  # Eligible for Org 0/1 deployment
  hyperledgerOrderer2:
    enabled: false
  # Eligible for Org 0/1 deployment
  hyperledgerOrderer3:
    enabled: false
  # Eligible for Org 0/1 deployment
  hyperledgerOrderer4:
    enabled: false
  # Eligible for ALL orgs
  hyperledgerPeer0:
    enabled: true
  # Eligible for ALL orgs
  hyperledgerPeer1:
    enabled: true
  # Eligible for OrgX, NOT for Org 0/1 deployment
  redisearchPrometheusExporter:
    enabled: true
  # Eligible for OrgX, NOT for Org 0/1 deployment
  redisExporter:
    enabled: true
```

```shell
kubectl port-forward deployment/promethemus 9090:9090
```

## Installing the Chart

To install the chart with the release name `my-release`:

```console
$ helm repo add dashslab https://rtang03.github.io/helm-charts
$ helm install my-release dashslab/prometheus
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| appname | string | internal value | Fixture |
| namespace | string | `"NAMESPACE"` | namespace of Scrape targets |
| orgname | string | `"ORGNAME"` | Organization name |
| persistence.accessMode | string | internal value | Fixture |
| persistence.annotations | object | internal value | Fixture |
| persistence.enabled | bool | internal value | Fixture |
| persistence.mountPath | string | internal value | Fixture |
| persistence.size | string | `"20Gi"` |  |
| persistence.storageClass | string | internal value | Fixture |
| podSecurityContext | object | internal value | Fixture |
| prometheus.global.evaluation_interval | string | `"1m"` |  |
| prometheus.global.scrape_interval | string | `"15s"` |  |
| prometheus.global.scrape_timeout | string | `"10s"` |  |
| resources.limits.cpu | string | `"400m"` |  |
| resources.limits.memory | string | `"1500Mi"` |  |
| resources.requests.cpu | string | `"100m"` |  |
| resources.requests.memory | string | `"640Mi"` |  |
| scrapes.hyperledgerOrderer0.enabled | bool | `false` |  |
| scrapes.hyperledgerOrderer1.enabled | bool | `false` |  |
| scrapes.hyperledgerOrderer2.enabled | bool | `false` |  |
| scrapes.hyperledgerOrderer3.enabled | bool | `false` |  |
| scrapes.hyperledgerOrderer4.enabled | bool | `false` |  |
| scrapes.hyperledgerPeer0.enabled | bool | `true` |  |
| scrapes.hyperledgerPeer1.enabled | bool | `true` |  |
| scrapes.istio.enabled | bool | `true` |  |
| scrapes.redisExporter.enabled | bool | `true` |  |
| scrapes.redisearchPrometheusExporter.enabled | bool | `true` |  |
| securityContext | object | internal value | Fixture |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
